<!DOCTYPE html>
<html>
<head>
	<title>Write Demo</title>

	<!-- Latest compiled and minified CSS -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">

	<!-- Optional theme -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap-theme.min.css">

	<!-- The Ubiquitous JQuery -->
	<script src="https://code.jquery.com/jquery-2.1.4.min.js"></script>

	<!-- Latest compiled and minified JavaScript -->
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>


	<!-- Hightlight.js, for syntax highlighting -->
	<link rel="stylesheet" href="/highlight/styles/tomorrow-night-bright.css">
	<script src="/highlight/highlight.pack.js"></script>

	<script src="/node_modules/htmlparser/lib/htmlparser.js"></script>
	<link rel="alternate stylesheet" title="agate"  href="/highlight/styles/agate.css">
	<link rel="alternate stylesheet" title="androidstudio"  href="/highlight/styles/androidstudio.css">
	<link rel="alternate stylesheet" title="arta"  href="/highlight/styles/arta.css">
	<link rel="alternate stylesheet" title="ascetic"  href="/highlight/styles/ascetic.css">
	<link rel="alternate stylesheet" title="atelier-cave.dark"  href="/highlight/styles/atelier-cave.dark.css">
	<link rel="alternate stylesheet" title="atelier-cave.light"  href="/highlight/styles/atelier-cave.light.css">
	<link rel="alternate stylesheet" title="atelier-dune.dark"  href="/highlight/styles/atelier-dune.dark.css">
	<link rel="alternate stylesheet" title="atelier-dune.light"  href="/highlight/styles/atelier-dune.light.css">
	<link rel="alternate stylesheet" title="atelier-estuary.dark"  href="/highlight/styles/atelier-estuary.dark.css">
	<link rel="alternate stylesheet" title="atelier-estuary.light"  href="/highlight/styles/atelier-estuary.light.css">
	<link rel="alternate stylesheet" title="atelier-forest.dark"  href="/highlight/styles/atelier-forest.dark.css">
	<link rel="alternate stylesheet" title="atelier-forest.light"  href="/highlight/styles/atelier-forest.light.css">
	<link rel="alternate stylesheet" title="atelier-heath.dark"  href="/highlight/styles/atelier-heath.dark.css">
	<link rel="alternate stylesheet" title="atelier-heath.light"  href="/highlight/styles/atelier-heath.light.css">
	<link rel="alternate stylesheet" title="atelier-lakeside.dark"  href="/highlight/styles/atelier-lakeside.dark.css">
	<link rel="alternate stylesheet" title="atelier-lakeside.light"  href="/highlight/styles/atelier-lakeside.light.css">
	<link rel="alternate stylesheet" title="atelier-plateau.dark"  href="/highlight/styles/atelier-plateau.dark.css">
	<link rel="alternate stylesheet" title="atelier-plateau.light"  href="/highlight/styles/atelier-plateau.light.css">
	<link rel="alternate stylesheet" title="atelier-savanna.dark"  href="/highlight/styles/atelier-savanna.dark.css">
	<link rel="alternate stylesheet" title="atelier-savanna.light"  href="/highlight/styles/atelier-savanna.light.css">
	<link rel="alternate stylesheet" title="atelier-seaside.dark"  href="/highlight/styles/atelier-seaside.dark.css">
	<link rel="alternate stylesheet" title="atelier-seaside.light"  href="/highlight/styles/atelier-seaside.light.css">
	<link rel="alternate stylesheet" title="atelier-sulphurpool.dark"  href="/highlight/styles/atelier-sulphurpool.dark.css">
	<link rel="alternate stylesheet" title="atelier-sulphurpool.light"  href="/highlight/styles/atelier-sulphurpool.light.css">
	<link rel="alternate stylesheet" title="brown_paper"  href="/highlight/styles/brown_paper.css">
	<link rel="alternate stylesheet" title="codepen-embed"  href="/highlight/styles/codepen-embed.css">
	<link rel="alternate stylesheet" title="color-brewer"  href="/highlight/styles/color-brewer.css">
	<link rel="alternate stylesheet" title="dark"  href="/highlight/styles/dark.css">
	<link rel="alternate stylesheet" title="darkula"  href="/highlight/styles/darkula.css">
	<link rel="alternate stylesheet" title="default"  href="/highlight/styles/default.css">
	<link rel="alternate stylesheet" title="docco"  href="/highlight/styles/docco.css">
	<link rel="alternate stylesheet" title="far"  href="/highlight/styles/far.css">
	<link rel="alternate stylesheet" title="foundation"  href="/highlight/styles/foundation.css">
	<link rel="alternate stylesheet" title="github-gist"  href="/highlight/styles/github-gist.css">
	<link rel="alternate stylesheet" title="github"  href="/highlight/styles/github.css">
	<link rel="alternate stylesheet" title="googlecode"  href="/highlight/styles/googlecode.css">
	<link rel="alternate stylesheet" title="grayscale"  href="/highlight/styles/grayscale.css">
	<link rel="alternate stylesheet" title="hopscotch"  href="/highlight/styles/hopscotch.css">
	<link rel="alternate stylesheet" title="hybrid"  href="/highlight/styles/hybrid.css">
	<link rel="alternate stylesheet" title="idea"  href="/highlight/styles/idea.css">
	<link rel="alternate stylesheet" title="ir_black"  href="/highlight/styles/ir_black.css">
	<link rel="alternate stylesheet" title="kimbie.dark"  href="/highlight/styles/kimbie.dark.css">
	<link rel="alternate stylesheet" title="kimbie.light"  href="/highlight/styles/kimbie.light.css">
	<link rel="alternate stylesheet" title="magula"  href="/highlight/styles/magula.css">
	<link rel="alternate stylesheet" title="mono-blue"  href="/highlight/styles/mono-blue.css">
	<link rel="alternate stylesheet" title="monokai"  href="/highlight/styles/monokai.css">
	<link rel="alternate stylesheet" title="monokai_sublime"  href="/highlight/styles/monokai_sublime.css">
	<link rel="alternate stylesheet" title="obsidian"  href="/highlight/styles/obsidian.css">
	<link rel="alternate stylesheet" title="paraiso.dark"  href="/highlight/styles/paraiso.dark.css">
	<link rel="alternate stylesheet" title="paraiso.light"  href="/highlight/styles/paraiso.light.css">
	<link rel="alternate stylesheet" title="pojoaque"  href="/highlight/styles/pojoaque.css">
	<link rel="alternate stylesheet" title="railscasts"  href="/highlight/styles/railscasts.css">
	<link rel="alternate stylesheet" title="rainbow"  href="/highlight/styles/rainbow.css">
	<link rel="alternate stylesheet" title="school_book"  href="/highlight/styles/school_book.css">
	<link rel="alternate stylesheet" title="solarized_dark"  href="/highlight/styles/solarized_dark.css">
	<link rel="alternate stylesheet" title="solarized_light"  href="/highlight/styles/solarized_light.css">
	<link rel="alternate stylesheet" title="sunburst"  href="/highlight/styles/sunburst.css">
	<link rel="alternate stylesheet" title="tomorrow-night-blue"  href="/highlight/styles/tomorrow-night-blue.css">
	<link rel="alternate stylesheet" title="tomorrow-night-bright"  href="/highlight/styles/tomorrow-night-bright.css">
	<link rel="alternate stylesheet" title="tomorrow-night-eighties"  href="/highlight/styles/tomorrow-night-eighties.css">
	<link rel="alternate stylesheet" title="tomorrow-night"  href="/highlight/styles/tomorrow-night.css">
	<link rel="alternate stylesheet" title="tomorrow"  href="/highlight/styles/tomorrow.css">
	<link rel="alternate stylesheet" title="vs"  href="/highlight/styles/vs.css">
	<link rel="alternate stylesheet" title="xcode"  href="/highlight/styles/xcode.css">
	<link rel="alternate stylesheet" title="zenburn"  href="/highlight/styles/zenburn.css">


</head>
<body>

	<div class="container-fluid">

	<!-- Header -->
		<div class="row">
			<div class="col-md-12">
				<h1>Write Here, Right Now.</h1>
			</div>
		</div>


		<div class="row">

			<!-- Col 1 -->
			<div class="col-md-6">
				<h2>Editor Pane</h2>

				<div id="editor" class="html" contentEditable="true" style="background-color: #EEE; min-height: 200px;">
				</div>
			</div>


			<!-- Col 2 -->
			<div class="col-md-6">
				<h2>Preview Pane</h2>
				<div id="preview"></div>
			</div>

		</div>

		<div class="row">
			<div class="col-md-12">
				<h2>Stats</h2>

				<table class="table table-striped">
				<tr>
					<th>Word count:</th>
					<td></td>
				</tr>
				<tr>
					<th>Tags:</th>
					<td><div id="tags"></div></td>
				</tr>
				<tr>
					<th>Word count:</th>
					<td></td>
				</tr>
				</table>

			</div>
		</div>

	</div>

</body>
<script>
	

var update_highlighting = function() {
};

var init = function() {
	hljs.initHighlightingOnLoad();
};

var update_preview_pane = function() {

	var contents = $('#editor').text();

	//Check validity.

	//If valid:
	if (well_formed(contents)) {
		$('#preview').html(contents);
	}

}

var well_formed = function(html) {
	return true;
	var handler = new Tautologistics.NodeHtmlParser.DefaultHandler(function (error, dom) {
	    if (error) {
	        return false;
	    } else {
	        return true;
	    }
	});
	var parser = new Tautologistics.NodeHtmlParser.Parser(handler);
	parser.parseComplete(document.body.innerHTML);
}

//Things to trigger every event loop
var event_loop = function() {

	//Update highlighting
	update_highlighting();


	//Update tagger

	//Autosave

};

</script>
</html>